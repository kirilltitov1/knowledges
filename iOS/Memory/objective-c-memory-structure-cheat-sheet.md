---
title: –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–±—ä–µ–∫—Ç–æ–≤ Objective-C –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–∞–º—è—Ç—å—é
type: cheat-sheet
topics: [Memory Management, Objective-C Runtime, Low-Level]
subtopic: objective-c-memory-structure
status: draft
level: advanced
platforms: [iOS, macOS, watchOS, tvOS]
ios_min: "10.0"
duration: 45m
tags: [objective-c, memory-structure, isa-pointer, stack-heap, objc-runtime]
---

# üß† –®–ø–∞—Ä–≥–∞–ª–∫–∞: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ Objective-C –∏ –ø–∞–º—è—Ç—å

## –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Objective-C, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ –∏ –∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –º–µ—Å—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ –≤ RAM.

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

### –°—Ç–µ–∫ vs –ö—É—á–∞ (Stack vs Heap)

#### –°—Ç–µ–∫ (Stack)
- **–ë—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç—å** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ scope
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä** (–æ–±—ã—á–Ω–æ 1-8 MB)
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø** (LIFO)

```objc
// –°—Ç–µ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç:
void function() {
    int localVar = 42;        // ‚Üê –ù–∞ —Å—Ç–µ–∫–µ
    NSObject *obj = [[NSObject alloc] init]; // ‚Üê –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫—É—á–µ
    NSString *str = @"hello"; // ‚Üê –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
}
```

#### –ö—É—á–∞ (Heap)
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å** –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- **–†—É—á–Ω–æ–µ/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ ARC/MRC
- **–ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä** (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ç–æ–ª—å–∫–æ –ø–∞–º—è—Ç—å—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
- **–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è** –≤–æ–∑–º–æ–∂–Ω–∞

```objc
// –ö—É—á–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
NSObject *obj = [[NSObject alloc] init];  // ‚Üê –û–±—ä–µ–∫—Ç –Ω–∞ –∫—É—á–µ
// obj - —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç–µ–∫–µ, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ Objective-C

### –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```objc
// –û–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
typedef struct objc_object {
    Class isa;  // ‚Üê –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫–ª–∞—Å—Å (–ø–µ—Ä–≤—ã–µ 8 –±–∞–π—Ç –Ω–∞ 64-–±–∏—Ç)
} *id;

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞:
struct objc_class {
    Class isa;           // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–µ—Ç–∞–∫–ª–∞—Å—Å
    Class super_class;   // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å
    const char *name;    // –ò–º—è –∫–ª–∞—Å—Å–∞
    long version;
    long info;
    long instance_size;  // –†–∞–∑–º–µ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
    struct objc_ivar_list *ivars;  // –°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
    struct objc_method_list *methodLists;  // –°–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤
    struct objc_cache *cache;      // –ö–µ—à –º–µ—Ç–æ–¥–æ–≤
    struct objc_protocol_list *protocols;  // –ü—Ä–æ—Ç–æ–∫–æ–ª—ã
};
```

### ISA —É–∫–∞–∑–∞—Ç–µ–ª—å

**ISA** ‚Äî —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ Objective-C.

```objc
// –ö–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç:
NSObject *obj = [[NSObject alloc] init];

// –í –ø–∞–º—è—Ç–∏ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
// ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
// ‚îÇ           ISA pointer (8 –±–∞–π—Ç)          ‚îÇ ‚Üê obj->isa —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—é–¥–∞
// ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
// ‚îÇ           ivar 1                        ‚îÇ
// ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
// ‚îÇ           ivar 2                        ‚îÇ
// ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
// ‚îÇ           ...                           ‚îÇ
// ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

// obj->isa —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã objc_class –¥–ª—è NSObject
```

## –ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ RAM

### –®–∞–≥ 1: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ —Å—Ç–µ–∫–µ
```objc
NSObject *obj = [[NSObject alloc] init];
// obj - —ç—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ —Å—Ç–µ–∫–µ
// –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ –≤ –∫—É—á–µ (8 –±–∞–π—Ç –Ω–∞ 64-–±–∏—Ç —Å–∏—Å—Ç–µ–º–µ)
```

### –®–∞–≥ 2: –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è
```objc
// –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä:
// 1. –ë–µ—Ä–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ obj (–∞–¥—Ä–µ—Å –≤ –∫—É—á–µ)
// 2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É –≤ –∫—É—á—É
// 3. –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–∞

// –í LLDB —ç—Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ç–∞–∫:
po obj              // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç
p obj               // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞
p &obj              // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å —É–∫–∞–∑–∞—Ç–µ–ª—è
p *obj              // –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ (—Å–∞–º –æ–±—ä–µ–∫—Ç)
```

### –®–∞–≥ 3: ISA pointer
```objc
// –ü–µ—Ä–≤—ã–π —á–ª–µ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞ - isa
// obj->isa —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã objc_class

Class objClass = obj->isa;  // –ü–æ–ª—É—á–∞–µ–º –∫–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞
const char *className = objClass->name;  // –ü–æ–ª—É—á–∞–µ–º –∏–º—è –∫–ª–∞—Å—Å–∞
```

## –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∏—Å–∫–∞ –º–µ—Ç–æ–¥–æ–≤ (Method Resolution)

### 1. –ö–µ—à –º–µ—Ç–æ–¥–æ–≤ (Method Cache)
```objc
// –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–µ—à –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞
struct objc_cache *cache = objClass->cache;

// –ö–µ—à —Å–æ–¥–µ—Ä–∂–∏—Ç –±—ã—Å—Ç—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
// selector -> implementation
```

### 2. –ü–æ–∏—Å–∫ –≤ —Å–ø–∏—Å–∫–∞—Ö –º–µ—Ç–æ–¥–æ–≤
```objc
// –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –∫–µ—à–µ, –∏—â–µ—Ç—Å—è –≤ methodLists –∫–ª–∞—Å—Å–∞
struct objc_method_list *methods = objClass->methodLists;

// –ü–æ–∏—Å–∫ –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä—É (SEL)
SEL selector = @selector(description);
Method method = method_getInstanceMethod(objClass, selector);
```

### 3. –ü–æ–∏—Å–∫ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞—Ö
```objc
// –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Ç–µ–∫—É—â–µ–º –∫–ª–∞—Å—Å–µ, –ø–æ–∏—Å–∫ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞—Ö
Class superClass = objClass->super_class;
if (superClass) {
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ
    method = method_getInstanceMethod(superClass, selector);
}
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –≤ LLDB

### –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞
```bash
# –í LLDB –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ:
(lldb) po obj                    # –ü–æ–∫–∞–∑–∞—Ç—å –æ–±—ä–µ–∫—Ç
(lldb) p obj                     # –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞
(lldb) p &obj                    # –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å —É–∫–∞–∑–∞—Ç–µ–ª—è
(lldb) p obj->isa                # –ü–æ–∫–∞–∑–∞—Ç—å ISA pointer
(lldb) p obj->isa->name          # –ü–æ–∫–∞–∑–∞—Ç—å –∏–º—è –∫–ª–∞—Å—Å–∞
(lldb) p obj->isa->ivars         # –ü–æ–∫–∞–∑–∞—Ç—å ivars –∫–ª–∞—Å—Å–∞
```

### –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
```bash
# –ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
(lldb) vmmap
# –ò—Å—Ç–æ—Ä–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
(lldb) malloc_history $pid 0xADDRESS
# –ò–Ω—Å–ø–µ–∫—Ü–∏—è –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É
(lldb) x/gx 0xADDRESS
```

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. Tagged Pointers
```objc
// –ú–∞–ª–µ–Ω—å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã (NSNumber, NSDate) –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ø—Ä—è–º–æ –≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ
NSNumber *smallNumber = @42;
// smallNumber - —ç—Ç–æ –Ω–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫—É—á—É, –∞ —Å–∞–º –æ–±—ä–µ–∫—Ç –≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ
```

### 2. –°–ª–∞–±—ã–µ —Å—Å—ã–ª–∫–∏ (__weak)
```objc
// –°–ª–∞–±—ã–µ —Å—Å—ã–ª–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–∞—Ö
__weak NSObject *weakRef = obj;
// weakRef —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ side table –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
```objc
// –ê–≤—Ç–æ—Ä–µ–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—É–ª
@autoreleasepool {
    NSString *str = [NSString stringWithFormat:@"Hello %@", name];
    // str –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ autorelease pool
} // –ü—É–ª –æ—á–∏—â–∞–µ—Ç—Å—è –∑–¥–µ—Å—å
```

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ß—Ç–æ –ª–µ–∂–∏—Ç –Ω–∞ —Å—Ç–µ–∫–µ?** –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π
2. **–ß—Ç–æ –ª–µ–∂–∏—Ç –≤ –∫—É—á–µ?** –°–∞–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ (–¥–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
3. **–ß—Ç–æ —Ç–∞–∫–æ–µ ISA?** –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
4. **–ö–∞–∫ –Ω–∞–π—Ç–∏ –∫–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞?** –ß–µ—Ä–µ–∑ `obj->isa`
5. **–ö–∞–∫ –Ω–∞–π—Ç–∏ –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞?** –ß–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è `NSObject *obj`
6. **–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è ISA?** –í –ø–µ—Ä–≤—ã—Ö 8 –±–∞–π—Ç–∞—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞
7. **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –º–µ—Ç–æ–¥–æ–≤?** –ö–µ—à ‚Üí —Å–ø–∏—Å–∫–∏ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ ‚Üí —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å—ã

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã LLDB

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞
(lldb) p *(objc_object *)obj
# –ö–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞
(lldb) p obj->isa
# –ò–º—è –∫–ª–∞—Å—Å–∞
(lldb) p obj->isa->name
# –†–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞
(lldb) p obj->isa->instance_size
# –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞
(lldb) p obj->isa->methodLists
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–º—è—Ç–∏ –≤ Objective-C –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è:
- **–û—Ç–ª–∞–¥–∫–∏** —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ü–æ–Ω–∏–º–∞–Ω–∏—è** —Ä–∞–±–æ—Ç—ã ARC –∏ MRC
- **–ê–Ω–∞–ª–∏–∑–∞** crash-–¥–∞–º–ø–æ–≤

–ü–æ–º–Ω–∏—Ç–µ: –∫–∞–∂–¥—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –æ–±—ä–µ–∫—Ç–µ ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å –≤ –∫—É—á–µ, –≥–¥–µ –ø–µ—Ä–≤—ã–µ –±–∞–π—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç ISA, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –∫–ª–∞—Å—Å —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

## üìÖ –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π

### –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–î–∞—Ç–∞**: 2024-01-15
- **–í–µ—Ä—Å–∏—è**: iOS 17.2, Xcode 15.2
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**:
  - [Objective-C Runtime Programming Guide](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/)
  - [LLDB Debuggger Tutorial](https://lldb.llvm.org/use/tutorial.html)
  - [WWDC: Understanding Runtime](https://developer.apple.com/videos/play/wwdc2014/416/)

### –ü–ª–∞–Ω —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Å Swift –æ–±—ä–µ–∫—Ç–∞–º–∏
- –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á Objective-C runtime
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ LLDB –∫–æ–º–∞–Ω–¥
