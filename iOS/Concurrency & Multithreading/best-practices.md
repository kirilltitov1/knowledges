---
type: "thread"
status: "draft"
summary: ""
title: "Best Practices"
---

# Best Practices


### Рекомендуется ✅
- Использовать async/await для нового кода
- Изолировать изменяемое состояние с помощью actors
- Корректно обрабатывать отмену задач
- Выбирать подходящий приоритет/QoS
- Не блокировать главный поток
- Применять structured concurrency
- Тщательно тестировать конкурентный код

### Не рекомендуется ❌
- Не вызывать `DispatchQueue.main.sync` из главного потока
- Не создавать неограниченное число потоков/очередей
- Не игнорировать data race и условия гонки
- Не забывать отменять операции/задачи
- Не смешивать слишком много парадигм одновременно
- Не усложнять простые задачи
- Не забывать обработку ошибок

### Распространённые паттерны
- Coordinator для сложных флоу
- Repository с async API
- Сервисный слой с Combine
- ViewModel под @MainActor

