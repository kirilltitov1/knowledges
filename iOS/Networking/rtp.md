## RTP, RTCP, RTSP и что реально используют на iOS

### Что такое RTP
RTP — протокол реального времени поверх UDP для передачи аудио/видео. Обычно идет в паре с RTCP (статистика/управление) и может сигнализироваться через RTSP или SDP.

### Когда использовать
- Звонки/конференции с минимальной задержкой (обычно через WebRTC, который инкапсулирует RTP).
- Телеметрия/сенсоры с жесткими требованиями к латентности.

### Почему не «чистый» RTP в приложении iOS
- Работать с голым RTP сложно: NAT‑traversal, шифрование (SRTP), адаптация битрейта, джиттер‑буфер, FEC, пересборка кадров.
- На iOS стандартный путь для звонков — WebRTC SDK (GoogleWebRTC), который решает эти задачи.
- Для медиастриминга к пользователям Apple рекомендует HLS/LL‑HLS через `AVPlayer`.

### Практика на iOS
- Видеозвонки: WebRTC (RTP под капотом) + `CallKit`/`AVAudioSession`/`VideoToolbox`.
- Медиастриминг: HLS/LL‑HLS в `AVPlayer` (не RTP), сервер — сегментация HLS.
- «Чистый» RTP: по сути, только со своими нативными стеками (SRTP, DTLS, SDP) или сборкой сторонних библиотек (FFmpeg и др.) — дорого и рискованно.

### Риски и ограничения
- Сеть: UDP‑блокировки, QoS, ухудшение при потере пакетов, необходимость TURN/STUN.
- Энергопотребление/фон: звонки требуют внимательного управления сессиями и политиками при фоне.
- Публикация в App Store: требования к приватности/шифрованию и корректной работе в сетях пользователей.

### Что учить iOS‑разработчику
- Основы WebRTC (ICE/TURN/STUN, SRTP, кодеки, симулякаст) и интеграция с UI/жизненным циклом.
- LL‑HLS для лайвов с низкой задержкой.

См. также: [websocket.md](websocket.md) (сигналинг может идти по WS), [protocols-and-data-formats.md](protocols-and-data-formats.md)


